# üìò GRAND GUIDE : MARKET TREND & EXTERNAL FACTORS ANALYSIS  
*Version approfondie avec XGBoost*

---

## 1. Le Contexte M√©tier et la Mission

### Le Probl√®me (Business Case)

Les march√©s √©voluent rapidement sous l‚Äôeffet de facteurs macro√©conomiques, technologiques et politiques.  
Analyser les tendances devient essentiel pour anticiper les risques et orienter les d√©cisions strat√©giques.

**Objectif :**  
- √âtudier l‚Äô√©volution du march√©  
- Comprendre les facteurs externes  
- Construire un mod√®le pr√©dictif bas√© sur XGBoost

---

## 2. Le Code Python (Laboratoire)

Ce script illustre comment charger, nettoyer, analyser et **mod√©liser** les tendances du march√©.

```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from xgboost import XGBRegressor
from sklearn.model_selection import train_test_split
from sklearn.metrics import mean_absolute_error, r2_score

# --- PHASE 1 : IMPORTATION DES DONN√âES ---
df = pd.DataFrame({
    "annee": np.arange(2015, 2026),
    "croissance_PIB": [3.2, 3.1, 3.0, 2.8, 2.5, 1.9, 1.2, 0.5, -1.0, 2.0, 2.7],
    "inflation":       [1.5, 1.7, 1.8, 2.0, 2.3, 3.0, 5.2, 6.7, 4.5, 3.1, 2.4],
    "croissance_secteur": [4.1, 4.3, 4.0, 3.9, 3.7, 3.0, 2.0, 1.2, -0.8, 1.5, 2.6]
})

# --- PHASE 2 : NETTOYAGE ---
df_clean = df.fillna(method="ffill")

# --- PHASE 3 : EXPLORATION ---
print("Statistiques descriptives :")
print(df_clean.describe())

plt.plot(df_clean["annee"], df_clean["croissance_secteur"])
plt.title("√âvolution du secteur")
plt.grid(True)
plt.show()

# --- PHASE 4 : SPLIT DES DONN√âES ---
X = df_clean[["croissance_PIB", "inflation"]]
y = df_clean["croissance_secteur"]

X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.2, random_state=42
)

# --- PHASE 5 : INTELLIGENCE ARTIFICIELLE (XGBOOST) ---
model = XGBRegressor(
    n_estimators=300,
    learning_rate=0.05,
    max_depth=4,
    random_state=42
)

model.fit(X_train, y_train)
y_pred = model.predict(X_test)

# --- PHASE 6 : √âVALUATION ---
mae = mean_absolute_error(y_test, y_pred)
r2 = r2_score(y_test, y_pred)

print(f"MAE : {mae:.3f}")
print(f"R¬≤ Score : {r2:.3f}")

# Importance des features
plt.bar(X.columns, model.feature_importances_)
plt.title("Importance des variables pour XGBoost")
plt.show()
```

---

## 3. Analyse Approfondie : Nettoyage (Data Wrangling)

### Le Probl√®me
Les donn√©es √©conomiques et sectorielles contiennent souvent :
- des valeurs manquantes  
- des fluctuations irr√©guli√®res  
- des anomalies dues √† des crises

### Strat√©gie adopt√©e
L‚Äôapproche `ffill` conserve la coh√©rence temporelle, indispensable pour une analyse √©conomique r√©aliste.

---

## 4. Analyse Exploratoire

Cette √©tape d√©voile les tendances importantes :
- Baisse progressive de la croissance du PIB  
- Inflation √©lev√©e ‚Üí pression sur la demande  
- Forte corr√©lation entre PIB et croissance du secteur

`.describe()` aide √† d√©tecter :
- la volatilit√©  
- les ann√©es extr√™mes  
- les cycles du march√©  

---

## 5. M√©thodologie : Split & Pr√©diction

Comme dans les projets ML :
- On s√©pare les donn√©es pour **g√©n√©raliser** (80% / 20%).  
- On utilise des variables explicatives macro√©conomiques pour pr√©dire la croissance du secteur.

---

## 6. FOCUS TH√âORIQUE : L‚ÄôAlgorithme XGBoost üöÄ

Pourquoi XGBoost ?

### A. Gradient Boosting Optimis√©  
XGBoost construit des arbres **s√©quentiellement**, chaque arbre corrige les erreurs du pr√©c√©dent.

### B. Avantages face aux mod√®les √©conomiques classiques  
- G√®re les non-lin√©arit√©s  
- R√©sistant au surapprentissage  
- Capable d‚Äôextraire les tendances cach√©es  
- Tr√®s performant m√™me avec peu de donn√©es  

### C. Feature Importance  
Le mod√®le r√©v√®le quelles variables affectent le plus la tendance sectorielle :
- inflation  
- croissance du PIB  

Cela imite un raisonnement d‚Äô√©conomiste, mais avec une pr√©cision algorithmique.

---

## 7. Analyse des R√©sultats

### MAE (Mean Absolute Error)
Mesure l‚Äôerreur moyenne du mod√®le ‚Üí plus c‚Äôest faible, meilleur est le mod√®le.

### R¬≤ Score
Mesure la capacit√© explicative du mod√®le :
- 1.0 = pr√©diction parfaite  
- 0 = pas mieux qu‚Äôune moyenne  

### Importance des variables
L‚ÄôInflation peut dominer l‚Äôexplication si le secteur est sensible au pouvoir d‚Äôachat.  
Le PIB explique souvent la demande globale.

---

## Conclusion du Projet

L‚Äôajout de **XGBoost** montre comment l‚Äôintelligence artificielle peut renforcer l‚Äôanalyse √©conomique.  
Cette approche permet d‚Äôanticiper les variations du march√© et de comprendre quels facteurs externes influencent r√©ellement le secteur.

